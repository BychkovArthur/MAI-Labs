#include <stdio.h>

/* Лабораторная работа №15. Вариант 2
   Задание: Замена всех максимальных элементов матрицы на число столбцов, содержащих ее минимальный элемент.
   Студент группы М8О-101Б-22 Бычков А.*/

int min(int a, int b) {
	if ( a <= b ) {
		return a;
	}
	return b;
}

int max(int a, int b) {
	if ( a >= b ) {
		return a;
	}
	return b;
}

int main() {
	
	// n - размер матрицы; mx - максимальный элемент матрицы; mn - минимальный элемент матрицы; count - количество столбцов, содержащих минимальный элемент матрицы.
	int n, mx = -1e9, mn = 1e9, count = 0;
	//printf("Введите размер матрицы:\n");
	scanf("%d", &n);
	
	// Двумерный массив размер на 1 больше, чем n, чтобы решать задачу в индексации с единицы.
	int m[n+1][n+1];
	
	// Чтение данных в двумерный массив и одновременный поиск максимумма и минимума
	//printf("Введите элементы матрицы:\n");
	for (int i = 1; i <= n; i++ ) {
		for (int j = 1; j <= n; j++ ) {
			scanf("%d", &m[i][j]);
			mx = max(mx, m[i][j]);
			mn = min(mn, m[i][j]);
		}
	}
	
	// Подсчет количества столбцов, где есть минимальный элемент
	for (int j = 1; j <= n; j++ ) {
		for (int i = 1; i <= n; i++ ) {
			if (m[i][j] == mn) {
				count ++;
				break;
			}
		}
	}
	
	// Вывод ответа с заменой максимальных элементов на количество столбцов, содержащих минимальный элемент
	printf("Получившаяся матрица:\n");
	for (int i = 1; i <= n; i++ ) {
		for (int j = 1; j <= n; j++ ) {
			if (m[i][j] == mx) {
				printf("%d ", count);
			} else {
				printf("%d ", m[i][j]);
			}
		}
		printf("\n");
	}
}